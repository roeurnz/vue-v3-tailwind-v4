@layer base {
  * {
    box-sizing: border-box;
  }

  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  #app {
    height: 100%;
  }

  html {
    font-family: "Inter", system-ui, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-foreground;
  }

  p {
    @apply text-muted-foreground;
  }

  a {
    @apply text-primary hover:text-primary-foreground transition-colors;
  }

  /* Prevent layout shift for dropdown menus */
  .dropdown-stable {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Maintain scrollbar stability when dropdowns open */
  html {
    overflow-y: scroll;
  }

  body {
    overflow-y: scroll;
    width: 100%;
    /* Ensure no scrollbar affects layout */
    scrollbar-gutter: stable;
  }

  /* Ensure dropdown portals don't affect body scroll */
  [data-reka-popper-content-wrapper] {
    position: fixed !important;
  }

  /* Prevent dropdown scrollbar from affecting document layout */
  .scrollbar-stable {
    scrollbar-gutter: stable;
    overflow-y: auto;
  }

  /* Maintain consistent width when scrollbars appear/disappear */
  .dropdown-stable {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
  }

  /* Comprehensive scrollbar hiding solution */
  .scrollbar-hidden {
    /* Firefox */
    scrollbar-width: none;

    /* Internet Explorer 10+ */
    -ms-overflow-style: none;

    /* Webkit browsers (Chrome, Safari, Edge) */
    scrollbar-width: 0px;
    -ms-scrollbar-width: 0px;
  }

  .scrollbar-hidden::-webkit-scrollbar {
    /* Completely hide scrollbar in webkit browsers */
    display: none !important;
    width: 0px !important;
    height: 0px !important;
    background: transparent !important;
    border: none !important;
  }

  .scrollbar-hidden::-webkit-scrollbar-track {
    display: none !important;
  }

  .scrollbar-hidden::-webkit-scrollbar-thumb {
    display: none !important;
  }

  .scrollbar-hidden::-webkit-scrollbar-button {
    display: none !important;
  }

  .scrollbar-hidden::-webkit-scrollbar-corner {
    display: none !important;
  }

  /* Ensure consistent layout by preventing scrollbar space */
  .scrollbar-hidden {
    scrollbar-gutter: stable both-edges;
    overflow-y: auto; /* Ensure scrolling still works */
  }

  /* Nuclear option: Completely eliminate all scrollbars globally */
  * {
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }

  *::-webkit-scrollbar {
    display: none !important;
    width: 0px !important;
    height: 0px !important;
    background: transparent !important;
  }

  *::-webkit-scrollbar-track {
    display: none !important;
  }

  *::-webkit-scrollbar-thumb {
    display: none !important;
  }

  *::-webkit-scrollbar-button {
    display: none !important;
  }

  *::-webkit-scrollbar-corner {
    display: none !important;
  }

  /* Ensure body and html don't show scrollbars */
  html, body {
    overflow-y: auto !important;
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }

  html::-webkit-scrollbar, body::-webkit-scrollbar {
    display: none !important;
    width: 0px !important;
    height: 0px !important;
  }
}
